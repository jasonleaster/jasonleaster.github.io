
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>EOF</title>
  <meta name="author" content="Jason Leaster">

  
  <meta name="description" content="Finished my first web scrawler … =_= Here is all about the spider. It’s small but funny. After I finish this web scrawler, I learn that. The most &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jasonleaster.github.io/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="EOF" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">EOF</a></h1>
  
    <h2>Rebuilding The Tower Of Babel</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="jasonleaster.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/todo">TODO</a></li>
  <li><a href="/recommendation">Recommendation</a></li>
  <li><a href="/about-me">About Me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/02/19/web-crawler/">Web Crawler</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-02-19T21:27:47+08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>19</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>9:27 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><table>
  <tbody>
    <tr>
      <td>Finished my first web scrawler … =_=</td>
    </tr>
  </tbody>
</table>

<p>Here is all about the spider. It’s small but funny.</p>

<p>After I finish this web scrawler, I learn that. The most important thing to build a web scrawler is not the code but the inverse process. How to build your program like a web browser.</p>

<p>Static web page is easy to get but how about a dynamic web page. Nowadays, more and more website use <code>ajax</code> to meet their bussiness requirement. If you just send a simple request to the server of that web site, you will find than the returned page is just only part of the total user page that you saw in the web browser.</p>

<p>Here is my demonstration.
<a href="www.duitang.com">duitang.com</a> is a funny images web site. I love a cute virtual character who is named as Mr.zhangcao . There is a lot of images of that guy. So I want build a web crawler to get that images all.</p>

<p>If you send a request to the <a href="http://www.duitang.com/album/56759353">main page</a> and anlysis the returned page (Python’s library <strong>BeautifulSoup</strong> is helpful to analysis html files), you will find there are some links in the html file. But you will only get about 20+ images but not all images that you viewed in the web browser. When you pull down the button of the brower, you will see more and more images coming out to user.</p>

<p>Why the returned page don’t have all links of images? The answer is <code>ajax</code>(asynchronous JavaScript and XML) is a set of web development techniques using many web technologies on the client-side to create asynchronous Web application.</p>

<p><strong>The monitor in browswer will help programmer who is writing a web spider.</strong></p>

<p>Dig into the detail of http transport, you will find a special request which are sent to server by the client browser.</p>

<p>This is that special url.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">duitang</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">napi</span><span class="o">/</span><span class="n">blog</span><span class="o">/</span><span class="nb">list</span><span class="o">/</span><span class="n">by_album</span><span class="o">/</span><span class="err">?</span><span class="n">album_id</span><span class="o">=</span>
</span><span class="line"><span class="o">&amp;</span><span class="n">limit</span><span class="o">=</span><span class="mi">24</span>
</span><span class="line"><span class="o">&amp;</span><span class="n">include_fields</span><span class="o">=</span><span class="n">top_comments</span><span class="o">%</span><span class="mi">2</span><span class="n">Cis_root</span><span class="o">%</span><span class="mi">2</span><span class="n">Csource_link</span><span class="o">%</span><span class="mi">2</span><span class="n">Cbuyable</span><span class="o">%</span><span class="mi">2</span><span class="n">Croot_id</span><span class="o">%</span><span class="mi">2</span><span class="n">C</span>
</span><span class="line"><span class="n">status</span><span class="o">%</span><span class="mi">2</span><span class="n">Clike_count</span><span class="o">%</span><span class="mi">2</span><span class="n">Csender</span><span class="o">%</span><span class="mi">2</span><span class="n">Creply_count</span><span class="o">&amp;</span><span class="n">start</span><span class="o">=</span><span class="mi">48</span><span class="o">&amp;</span><span class="n">_</span><span class="o">=</span><span class="mi">1455881387791</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>If client request that url to the server, the server will return a json data object. The job left is to analysis the json object and then get the resource links.</p>

<p>The important part of building a web crawler is not the code but how to find the useful url and get more useful information.</p>

<p>Here is a screenshut for what my web scrawler got.
<img src="/images/img_for_2016_02_19/screenshut.png" alt="images" /></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="sd">&quot;&quot;&quot;</span>
</span><span class="line"><span class="sd">Programmer 	: EOF</span>
</span><span class="line"><span class="sd">E-mail 		: jasonleaster@163.com</span>
</span><span class="line"><span class="sd">File        : duitang.py</span>
</span><span class="line"><span class="sd">Date        : 2016.02.19</span>
</span><span class="line">
</span><span class="line"><span class="sd">&quot;&quot;&quot;</span>
</span><span class="line"><span class="c">#!/usr/bin/env python</span>
</span><span class="line"><span class="c"># -*- coding: utf-8 -*-</span>
</span><span class="line">
</span><span class="line"><span class="kn">import</span> <span class="nn">urllib</span>
</span><span class="line"><span class="kn">import</span> <span class="nn">urllib2</span>
</span><span class="line"><span class="kn">import</span> <span class="nn">json</span>
</span><span class="line"><span class="kn">import</span> <span class="nn">re</span>
</span><span class="line"><span class="kn">import</span> <span class="nn">time</span>
</span><span class="line">
</span><span class="line"><span class="n">downloadCount</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="n">album_id</span> <span class="o">=</span> <span class="mi">72129639</span>
</span><span class="line"><span class="n">limit</span> <span class="o">=</span> <span class="mi">100</span>
</span><span class="line"><span class="n">start</span> <span class="o">=</span> <span class="mi">1</span>
</span><span class="line">
</span><span class="line"><span class="c"># This function return a URL and this URL will return a json object data.</span>
</span><span class="line"><span class="k">def</span> <span class="nf">duitangURLMaker</span><span class="p">(</span><span class="n">album_id</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">start</span><span class="p">):</span>
</span><span class="line">    <span class="n">url_part_1</span> <span class="o">=</span> <span class="s">&quot;http://www.duitang.com/napi/blog/list/by_album/?album_id=&quot;</span>
</span><span class="line">    <span class="n">url_part_2</span> <span class="o">=</span> <span class="s">&quot;&amp;limit=&quot;</span>
</span><span class="line">    <span class="n">url_part_3</span> <span class="o">=</span> <span class="s">&quot;&amp;include_fields=top_comments%2Cis_root%2Csource_link%2Cbuyable%2Croot_id%2Cstatus%2Clike_count%2Csender%2Creply_count&amp;start=&quot;</span>
</span><span class="line">    <span class="n">url_part_4</span> <span class="o">=</span> <span class="s">&quot;&amp;_=1455881387791&quot;</span>
</span><span class="line">
</span><span class="line">    <span class="n">URL</span> <span class="o">=</span> <span class="n">url_part_1</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">album_id</span><span class="p">)</span> <span class="o">+</span> <span class="n">url_part_2</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span> <span class="o">+</span> <span class="n">url_part_3</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">start</span><span class="p">)</span> <span class="o">+</span> <span class="n">url_part_4</span>
</span><span class="line">
</span><span class="line">    <span class="k">return</span> <span class="n">URL</span>
</span><span class="line">
</span><span class="line"><span class="k">def</span> <span class="nf">imgURLs</span><span class="p">(</span><span class="n">jsonDict</span><span class="p">):</span>
</span><span class="line">	<span class="n">URLs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span class="line">	<span class="n">object_list</span> <span class="o">=</span> <span class="n">jsonDict</span><span class="p">[</span><span class="s">&quot;data&quot;</span><span class="p">][</span><span class="s">&quot;object_list&quot;</span><span class="p">]</span>
</span><span class="line">	<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">object_list</span><span class="p">:</span>
</span><span class="line">		<span class="n">URLs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s">&quot;photo&quot;</span><span class="p">][</span><span class="s">&quot;path&quot;</span><span class="p">])</span>
</span><span class="line">
</span><span class="line">	<span class="k">return</span> <span class="n">URLs</span>
</span><span class="line">
</span><span class="line"><span class="n">URL</span> 		<span class="o">=</span> <span class="n">duitangURLMaker</span><span class="p">(</span><span class="n">album_id</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">start</span><span class="p">)</span>
</span><span class="line"><span class="n">string</span> 		<span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">URL</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span class="line"><span class="n">jsonDict</span> 	<span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="n">URLs</span> <span class="o">=</span> <span class="n">imgURLs</span><span class="p">(</span><span class="n">jsonDict</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">URLs</span><span class="p">:</span>
</span><span class="line">    <span class="n">Filename</span> <span class="o">=</span> <span class="s">&quot;duitang_</span><span class="si">%s</span><span class="s">.jpeg&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">downloadCount</span><span class="p">)</span>
</span><span class="line">    <span class="k">try</span><span class="p">:</span>
</span><span class="line">        <span class="n">urllib</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">Filename</span><span class="p">)</span>
</span><span class="line">        <span class="k">print</span> <span class="s">&quot;Download from&quot;</span><span class="p">,</span> <span class="n">url</span>
</span><span class="line">        <span class="n">downloadCount</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class="line">    <span class="k">except</span><span class="p">:</span>
</span><span class="line">        <span class="k">print</span> <span class="s">&quot;Analyse Failed&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<hr />
<p>Photo by Jason Leaster. LiuYe Lake in ChangDe, HuNan, China.
<img src="/images/img_for_2016_02_19/liuyehu.jpg" alt="images" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/02/06/brief-introduction-to-opcodes-in-python/">Brief Introduction to Opcodes in Python</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-02-06T18:39:50+08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>6:39 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Python program is compiled down to bytecode which is sort of like assembly for the python virtual machine. The interpreter executes each of these bytecodes one by one.</p>

<p>Let’s look the following code. It’s easy to understand what it is doing without my explanation.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="p">[</span><span class="n">demo</span><span class="o">.</span><span class="n">py</span><span class="p">]</span>
</span><span class="line">
</span><span class="line"><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
</span><span class="line"><span class="n">y</span> <span class="o">=</span> <span class="mi">2</span>
</span><span class="line"><span class="n">z</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</span><span class="line"><span class="k">print</span> <span class="s">&quot;x, y, z&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2016/02/06/brief-introduction-to-opcodes-in-python/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/02/05/functional-programming-in-python/">Functional Programming in Python</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-02-05T02:37:57+08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>2:37 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Functional programming is not only use functions.
Think of “y = f(x)” or “h = f * g”</p>

<p>For comparasion, there are different paradigms in programming.</p>

<ul>
  <li>Structured/Procedural – Functions, loops, conditions</li>
  <li>Object-Oriented Programming (OOP) – Classes, objects, methods</li>
  <li>Functional Programming – Decorators, comprehensions, and generators</li>
  <li>Logic Programming</li>
</ul>

<p>Functions in Python are <code>first class value</code>. It can take functions as arguments and return functions like a value.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="sd">&quot;&quot;&quot;</span>
</span><span class="line"><span class="sd">function @calc take @f as an argument and use it as a function.</span>
</span><span class="line"><span class="sd">Something like function pointer in C.</span>
</span><span class="line"><span class="sd">&quot;&quot;&quot;</span>
</span><span class="line"><span class="k">def</span> <span class="nf">calc</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span class="line">    <span class="k">return</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span class="line">    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</span><span class="line">
</span><span class="line"><span class="k">def</span> <span class="nf">sub</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span class="line">    <span class="k">return</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span>
</span><span class="line">
</span><span class="line"><span class="n">calc</span><span class="p">(</span><span class="n">add</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2016/02/05/functional-programming-in-python/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/02/04/dict-object-in-python/">Dict Object in Python</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-02-04T12:54:11+08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>12:54 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Dictionary object type – mapping from hashable object to object</p>

<p>In the implemenation, Python don’t choose <code>Red-Black Tree</code> as the basic data structure but Hash Table with a special technology – <code>Open Addressing</code>.</p>

<p>About open addressing:</p>

<blockquote>
  <p>In computer science, lazy deletion refers to a method of deleting elements from a hash table that uses open addressing. In this method, deletions are done by marking an element as deleted, rather than erasing it entirely. Deleted locations are treated as empty when inserting and as occupied during a search. – Wikipedia</p>
</blockquote>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2016/02/04/dict-object-in-python/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/02/03/memory-model-of-int-object-in-python/">Int Object in Python</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-02-03T00:56:31+08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>3</span><span class='date-suffix'>rd</span>, <span class='date-year'>2016</span></span> <span class='time'>12:56 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul id="markdown-toc">
  <li><a href="#preparation" id="markdown-toc-preparation">Preparation</a></li>
  <li><a href="#rules-of-object-in-python" id="markdown-toc-rules-of-object-in-python">Rules of Object in Python.</a></li>
  <li><a href="#firt-glance-at-the-implementation" id="markdown-toc-firt-glance-at-the-implementation">Firt glance at the implementation.</a></li>
  <li><a href="#initialization-of-pyintobject" id="markdown-toc-initialization-of-pyintobject">Initialization of PyIntObject</a></li>
  <li><a href="#insert-and-delete" id="markdown-toc-insert-and-delete">Insert and Delete</a></li>
  <li><a href="#time-for-hacking" id="markdown-toc-time-for-hacking">Time for Hacking</a></li>
</ul>

<h3 id="preparation">Preparation</h3>

<p>Here, we are goint to analysis how Python deal with <code>Int Object</code> in itself.</p>

<p>First of all, we should have a environment which help us to explore the detail of the implementation in <code>Python 2.7</code>. At the same time, our operation shouldn’t influence the origianl Python in your workstation, if you have install Python before.</p>

<p>You can get the source code from offical website of Python. And you will find that there have a file <code>configure</code> in the directory of the source.</p>

<p><em>In the file configure, you can replace all string ‘Python’ with ‘pyLab’. And then move all file prefix with <code>Python</code> into <code>pyLab</code>(mainly in directory Misc/ and Modules)</em></p>

<p>Don’t forget to run the configuration file – configure with the option <code>--prefix=Location where you want the Python which is for lab to install </code></p>

<p>Finally, just run <code>make &amp; make install</code></p>

<p>Repeat myself again, the reason that I move all ‘Python’ into ‘pyLab’ is all for making a difference with the original instance which is official and shouldn’t be influence by any operation from us.</p>

<h3 id="rules-of-object-in-python">Rules of Object in Python.</h3>

<ul>
  <li>Objects are structures allocated on the heap.</li>
  <li>Objects are never allocated statically or on the stack; they must be accessed through special macros and functions only.</li>
</ul>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2016/02/03/memory-model-of-int-object-in-python/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/30/machine-learning-with-k-means/">Machine Learning With K-Means</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-12-30T16:03:13+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>4:03 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>K-Means is a classical unsupervised clustering Learning Algorithm. The detail of the theory about K-Means that you can find it in Wikipedia. Now I introduce to implement this algorithm by myself.</p>

<p>If you are interesting in the implementation and change it into a better version, you could find it in my github repository and give me some advices. I will be appreciated.</p>

<hr />

<p>So consider about if I want to classify the data into three different cluster. How could I make it?</p>

<p><img src="/images/img_for_2015_12_30/original.png" alt="images" /></p>

<p>Here is the result:</p>

<p><img src="/images/img_for_2015_12_30/result.png" alt="images" /></p>

<p>With the mean values:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="n">Means</span> <span class="o">=</span>
</span><span class="line"><span class="p">[[</span><span class="mf">3.5</span>       <span class="mi">1</span>       <span class="mi">6</span><span class="p">]</span>
</span><span class="line"> <span class="p">[</span><span class="mf">1.66666</span>   <span class="mi">6</span>       <span class="mi">6</span><span class="p">]]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/12/30/machine-learning-with-k-means/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/25/labs-of-mit-6-dot-034/">Labs of MIT 6.034</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-12-25T23:30:06+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>25</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>11:30 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Two month ago, I decide to do a project about machine learning. So, I get start to learn machine learning and implemment some algorithms of ML.
I find that there is a course in MIT – 6.034 Artificial Intelligence which contain a lot of funny labs. That will help me to learn ML.</p>

<p>I don’t want to write a lot of analysis article about this course like what I have done in 6.008 . So, I just push my solution which also is incompletement onto github. If anyone interesting in this lab, you could touch me and I would like to communicate with you about these labs if I’m not busy.</p>

<p>What you should know is that the version of this labs is updated in 2015.</p>

<p>Here is the link you could get my solution:
<a href="https://github.com/jasonleaster/MIT_6.034_2015">My Solution of MIT 6.034</a></p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/12/25/labs-of-mit-6-dot-034/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/13/machine-learning-with-boosting/">Machine Learning With Boosting</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-12-13T17:00:47+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>5:00 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This blog will talk about the theory and implementation about famouse
concept in machine learning – <code>Boosting</code>.</p>

<p>All algorithms are implemented in Python.</p>

<p>There are two main tasks which people want to finish with Machine Learning.</p>

<ul>
  <li>Classification</li>
  <li>Regression</li>
</ul>

<p>There are a lot of other ways to do it but now we focus on <code>boosting</code> algorithm. You know that it’s a fantastic way to make our work done.</p>

<h3 id="adaboost-for-classification">Adaboost for classification</h3>

<p>If you never hear about adaboost, I recommend you to finish the 7-th lab in MIT 6.034. It will help you a lot to understand what I’m taking about. But this lab didn’t build adaboost completely. So, I implement it individually.</p>

<p>Give the input training samples which have tag with it.</p>

<p><img src="/images/img_for_2015_12_13/equation.png" alt="images" /></p>

<p>where x[i] is the feature of the i-th sample point and y[i] is the <code>label</code> (soemtimes we call it as <code>tag</code>) with the sample point.</p>

<p>In this algorithm, there are only two different label of samples {-1, +1}.</p>

<p>Some classifier like decision tree also can work correctly about classification. But it’s also easy to overfitting. So, we can’t use it in some special situation. Instread of using decision tree, we use <code>decision stump</code> which is a special type of decision tree which’s depth is only one. So we call it as <code>decision stump</code>.</p>

<p><code>Yoav Freund</code> and <code>Robert Schapire</code> create this algorithm <strong>AdaBoost</strong> which means adaptive boosting. It combine some weaker classifier into a stronger classifier to avoid overfitting.</p>

<p>Test case:</p>

<p>There are training points with two different label. What if we input a point which’s type is unkown, what the result will be?</p>

<p><img src="/images/img_for_2015_12_13/samples.png" alt="images" /></p>

<p>The test result is below there:</p>

<p><img src="/images/img_for_2015_12_13/result.png" alt="images" /></p>

<p>Just create a object of class <code>Adaboost</code> with your training samples with label. like this:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="kn">import</span> <span class="nn">adaboost</span>
</span><span class="line"><span class="n">a</span> <span class="o">=</span> <span class="n">AdaBoost</span><span class="p">(</span><span class="n">Original_Data</span><span class="p">,</span> <span class="n">Tag</span><span class="p">)</span>
</span><span class="line"><span class="c"># The up bound of training time to avoid the algorithm won&#39;t stop for not meeting the training accuracy.</span>
</span><span class="line"><span class="n">times</span> <span class="o">=</span> <span class="mi">5</span>
</span><span class="line">
</span><span class="line"><span class="n">a</span><span class="o">.</span><span class="n">train</span><span class="p">(</span><span class="n">times</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="n">a</span><span class="o">.</span><span class="n">prediction</span><span class="p">(</span><span class="n">UnkownPoints</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>API <code>prediction()</code> of class AdaBoost will return the result of prediction according to the model. All job done.</p>

<p>You could find other test case in my repository in github.</p>

<p><a href="https://github.com/jasonleaster/Machine_Learning/tree/master/Adaboost">Implementation of Adaboost in Python</a></p>

<p>You can check the validity of my implementation by the accuracy.</p>

<p><img src="/images/img_for_2015_12_13/samples2.png" alt="images" /></p>

<p>The data used to train the weaker classifier and get that accuracy is showed below there :</p>

<p><img src="/images/img_for_2015_12_13/accuracy.png" alt="images" /></p>

<h3 id="boosting-tree">Boosting Tree</h3>

<p>We have knew to use <code>AdaBoost</code> to do classification. <code>Boosting Tree</code> will help us to do regression.</p>

<p>We also use decision stump as the weak classifier. But implementation of decision stump in this algorithm is not the same as that in AdaBoost.</p>

<p>There are ten samples in my test module:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="n">Original_Data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
</span><span class="line">        <span class="p">[</span><span class="mi">2</span><span class="p">],</span>
</span><span class="line">        <span class="p">[</span><span class="mi">3</span><span class="p">],</span>
</span><span class="line">        <span class="p">[</span><span class="mi">4</span><span class="p">],</span>
</span><span class="line">        <span class="p">[</span><span class="mi">5</span><span class="p">],</span>
</span><span class="line">        <span class="p">[</span><span class="mi">6</span><span class="p">],</span>
</span><span class="line">        <span class="p">[</span><span class="mi">7</span><span class="p">],</span>
</span><span class="line">        <span class="p">[</span><span class="mi">8</span><span class="p">],</span>
</span><span class="line">        <span class="p">[</span><span class="mi">9</span><span class="p">],</span>
</span><span class="line">        <span class="p">[</span><span class="mi">10</span><span class="p">],</span>
</span><span class="line">        <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span class="line">        <span class="p">])</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
</span><span class="line">
</span><span class="line"><span class="n">ExpVal</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
</span><span class="line">        <span class="p">[</span><span class="mf">5.70</span><span class="p">],</span>
</span><span class="line">        <span class="p">[</span><span class="mf">5.91</span><span class="p">],</span>
</span><span class="line">        <span class="p">[</span><span class="mf">6.40</span><span class="p">],</span>
</span><span class="line">        <span class="p">[</span><span class="mf">6.80</span><span class="p">],</span>
</span><span class="line">        <span class="p">[</span><span class="mf">7.05</span><span class="p">],</span>
</span><span class="line">        <span class="p">[</span><span class="mf">8.90</span><span class="p">],</span>
</span><span class="line">        <span class="p">[</span><span class="mf">8.70</span><span class="p">],</span>
</span><span class="line">        <span class="p">[</span><span class="mf">9.00</span><span class="p">],</span>
</span><span class="line">        <span class="p">[</span><span class="mf">9.05</span><span class="p">],</span>
</span><span class="line">        <span class="p">[</span><span class="mf">5.56</span><span class="p">]</span>
</span><span class="line">        <span class="p">])</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The expected value of Original_Data[i] is ExpVal[i]. The input is from 1 to 10. How about to predict the output when the input is 1 or 11?</p>

<p>Let’s test it. Here is the result:
<img src="/images/img_for_2015_12_13/output_of_boosting_tree.png" alt="images" /></p>

<p>Just used 11 weak classifier to construct a stronger classifier to do the regressio. The output is reasonable.</p>

<p>Here is my implementation of <code>Boosting Tree</code>
<a href="https://github.com/jasonleaster/Machine_Learning/tree/master/Boosting_Tree">Implementation of Boosting Tree in Python</a></p>

<p>Reference:</p>

<ol>
  <li>MIT-6.034, Artificial Intelligence. Lab-7</li>
  <li>« The statistic methods » by HangLi.</li>
  <li><a href="https://en.wikipedia.org/wiki/AdaBoost">Wikipedia</a></li>
</ol>

<hr />

<p>Photo by Jason Leaster</p>

<p><img src="/images/img_for_2015_12_13/street.png" alt="images" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/09/24/binary-search-tree/">Binary Search Tree</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-09-24T01:28:33+08:00'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>1:28 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I try to collect problems about <code>Binary Search Tree (BST)</code> which are asked in interview frequently.</p>

<p>Basicly, here is the definition of Binary Search Tree. And I show the way how to implement the basic operation like <code>insert</code>, <code>delete</code> and so on.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="k">class</span> <span class="nc">TreeNode</span><span class="p">()</span> <span class="p">:</span>
</span><span class="line">    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">:</span>
</span><span class="line">      <span class="bp">self</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">num</span>
</span><span class="line">      <span class="bp">self</span><span class="o">.</span><span class="n">right</span>  <span class="o">=</span> <span class="bp">None</span>
</span><span class="line">      <span class="bp">self</span><span class="o">.</span><span class="n">left</span>   <span class="o">=</span> <span class="bp">None</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>You could find all my practices with BST in github: <a href="https://github.com/jasonleaster/Algorithm/blob/master/Binary_Search_Tree/Python_version/bst.py">BST</a></p>

<p><img src="/images/img_for_2015_09_25/bst.png" alt="images" /></p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/09/24/binary-search-tree/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/07/24/binary-search/">Binary Search</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-07-24T10:17:20+08:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>10:17 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is a story why I write this algorithm again.</p>

<blockquote>
  <p>In this days, I work as an intern for Alibaba. To be honest, it totally a bad time for the beginning days. More awful fact to me is that my mentor do his job mostly in Java and I have to pick it up as quickly as possible. It’s totally a stranger for me about Java. <strong>What I have to say is that thanks god and my mentor.</strong> He is so nice and never blame me for my problem. You know that I suffer pressure heavily for I learned nothing but time wasted in this two weeks. I asked for help from human resource manager and hope to find someone guide me to walk out this shadow. Bo who is my mentor. He understand me and know my feeling. Bo encourage me and try to let me believe things will be better. Today, I face to a problem which I think is very naive but I didn’t show the solution to a leader of a department very well. And I could feel that he doubt about my ability in programming. I feel shame about he ask me that “Do you have programming in C or C++ for ten thousand lines ?”.</p>
</blockquote>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/07/24/binary-search/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar"> 
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="http://music.163.com/outchain/player?type=2&id=528047&auto=1&height=66"></iframe>
<!-- <a href="/blog/Love/index.html">
<img src="/blog/Love/girl.jpg", width=100, height=100>
Hello, world
</a>
-->
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/02/19/web-crawler/">Web Crawler</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/02/06/brief-introduction-to-opcodes-in-python/">Brief Introduction to Opcodes in Python</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/02/05/functional-programming-in-python/">Functional Programming in Python</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/02/04/dict-object-in-python/">Dict Object in Python</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/02/03/memory-model-of-int-object-in-python/">Int Object in Python</a>
      </li>
    
  </ul>
</section>


<section> 
  <h1>Categories</h1> 
  <ul id="categories"> 
    <li class='category'><a href='/blog/categories/algorithm/'>algorithm (2)</a></li>
<li class='category'><a href='/blog/categories/c/'>c (2)</a></li>
<li class='category'><a href='/blog/categories/cplusplus/'>cplusplus (7)</a></li>
<li class='category'><a href='/blog/categories/essay/'>essay (2)</a></li>
<li class='category'><a href='/blog/categories/labs/'>labs (1)</a></li>
<li class='category'><a href='/blog/categories/machinelearning/'>machinelearning (3)</a></li>
<li class='category'><a href='/blog/categories/python/'>python (5)</a></li>
 
  </ul> 
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Jason Leaster -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
